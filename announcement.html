<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Announcements - UbianWorld</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <script src="script.js" defer></script>
</head>
<body>
<header>
    <div class="brand-container">
        <img src="logo.jpg" alt="ISSO Logo" class="header-logo">
        <span class="brand-text">ISSO</span>
    </div>
    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="announcement.html" class="active">Announcement</a></li>
            <li><a href="guides.html">Guides & Forms</a></li>
            <li><a href="support.html">Support</a></li>
            <li><a href="contact.html">Contact</a></li>
            <li class="login-button"><a href="login.html" id="auth-link">Log In</a></li>
        </ul>
    </nav>
</header>

<section id="hero" class="hero-section">
    <div class="hero-content">
        <h1>ðŸ“£ Official Announcements & Events</h1>
        <p>Your centralized platform for support, information, and community at the University of Batangas.</p>
    </div>
</section>

<main>
    <section id="announcement-list" class="container">
        <h2>ðŸ“£ Official Announcements & Events</h2>

        <!-- Current Announcements Grid -->
        <div class="announcements-grid" id="announcements-container">
            <p style="text-align: center;">Loading announcements...</p>
        </div>

        <!-- Create New Announcement Card - now hidden by default and shown only for admins via JavaScript -->
        <div class="announcement-card create-card" id="create-announcement-card" onclick="window.createAnnouncement()" style="display: none;">
            <h3>Create New Announcement</h3>
        </div>

        <!-- Old Announcements Section -->
        <aside class="old-events-sidebar">
            <h3>Old Announcements</h3>
            <div id="links-container">
                <p style="text-align: center;">Loading archived announcements...</p>
            </div>
        </aside>
    </section>
</main>

<!-- Edit Announcement Modal -->
<div id="edit-announcement-modal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>Edit Announcement</h2>
            <span class="close" onclick="closeEditAnnouncementModal()">&times;</span>
        </div>
        <div class="modal-body">
            <form id="edit-announcement-form">
                <div class="form-group">
                    <label for="edit-announcement-title">Title:</label>
                    <input type="text" id="edit-announcement-title" required>
                </div>
                <div class="form-group">
                    <label for="edit-announcement-content">Content:</label>
                    <textarea id="edit-announcement-content" rows="6" required></textarea>
                </div>
                <div class="form-group">
                    <label for="edit-announcement-url">External Link (Optional):</label>
                    <input type="text" id="edit-announcement-url">
                </div>
                <input type="hidden" id="edit-announcement-id">
                <div class="modal-footer">
                    <button type="button" class="btn-secondary" onclick="closeEditAnnouncementModal()">Cancel</button>
                    <button type="submit" class="btn-primary">Update Announcement</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Confirm Delete Modal -->
<div id="confirm-delete-modal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>Delete Announcement</h2>
            <span class="close" onclick="closeConfirmDeleteModal()">&times;</span>
        </div>
        <div class="modal-body">
            <p>Are you sure you want to delete this announcement? This action cannot be undone.</p>
            <input type="hidden" id="delete-announcement-id">
        </div>
        <div class="modal-footer">
            <button type="button" class="btn-secondary" onclick="closeConfirmDeleteModal()">Cancel</button>
            <button type="button" class="btn-danger" onclick="confirmDeleteAnnouncement()">Delete</button>
        </div>
    </div>
</div>

<!-- Confirm Archive Modal -->
<div id="confirm-archive-modal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>Archive Announcement</h2>
            <span class="close" onclick="closeConfirmArchiveModal()">&times;</span>
        </div>
        <div class="modal-body">
            <p>Archive this announcement? It will be moved to the Old Announcements section.</p>
            <input type="hidden" id="archive-announcement-id">
        </div>
        <div class="modal-footer">
            <button type="button" class="btn-secondary" onclick="closeConfirmArchiveModal()">Cancel</button>
            <button type="button" class="btn-warning" onclick="confirmArchiveAnnouncement()">Archive</button>
        </div>
    </div>
</div>

<footer>
    <div class="container footer-content">
        <div class="footer-col">
            <h3>About UbianWorld</h3>
            <p>Your go-to platform for university support, announcements, and resources at the University of Batangas. Empowering students and staff with easy access to information.</p>
        </div>

        <div class="footer-col">
            <h3>Quick Links</h3>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="announcement.html">Announcements</a></li>
                <li><a href="guides.html">Guides & Forms</a></li>
                <li><a href="support.html">Support</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </div>

        <div class="footer-col">
            <h3>Contact Us</h3>
            <p>Email: info@ubianworld.edu.ph</p>
            <p>Phone: +63 123 456 7890</p>
            <p>Address: University of Batangas, Batangas City, Philippines</p>
        </div>
    </div>
</footer>
</body>
</html>
